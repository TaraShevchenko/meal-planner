# üß† MEMORY BANK: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

## –ü—Ä–æ–±–ª–µ–º–∞: –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
–ü—Ä–∏ —Å–±–æ—Ä–∫–µ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –∫–∞–∂—É—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (env.js), –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–º–ø–æ—Ä—Ç–æ–≤.

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ –µ—Å—Ç—å —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –ø—Ä–∏ —Å–±–æ—Ä–∫–µ.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–í –ø—Ä–æ–µ–∫—Ç–µ Meal Planner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:

```
src/entities/family/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ client-queries.ts  # –¢–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ö—É–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ queries.ts         # –¢–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ client.ts              # –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö API
‚îú‚îÄ‚îÄ index.ts               # –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –∏ –æ–±—â–∏—Ö —É—Ç–∏–ª–∏—Ç
‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îî‚îÄ‚îÄ types.ts          # –û–±—â–∏–µ —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ server.ts              # –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö API
```

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **client.ts** - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ö—É–∫–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   ```typescript
   export { familyClientQueries } from './api/client-queries';
   ```

2. **server.ts** - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   ```typescript
   export { familyQueries } from './api/queries';
   ```

3. **index.ts** - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–∏–ø—ã –∏ –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
   ```typescript
   export { type Family, type FamilyMember, type FamilyWithMembers } from './model/types';
   // For client-side usage, import from './client'
   // For server-side usage, import from './server'
   // This file exports only shared utilities and types
   ```

### –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** –°–º–µ—à–∏–≤–∞—Ç—å –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
```typescript
// BAD: –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫!
export { familyQueries } from './api/queries';        // –°–µ—Ä–≤–µ—Ä–Ω–æ–µ
export { familyClientQueries } from './api/client-queries'; // –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** –†–∞–∑–¥–µ–ª—è—Ç—å –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
```typescript
// client.ts - —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ
export { familyClientQueries } from './api/client-queries';

// server.ts - —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ  
export { familyQueries } from './api/queries';
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
- `Invalid environment variables`
- `Failed to load next.config.js`
- –ü—Ä–æ–±–ª–µ–º—ã —Å AUTH_DISCORD_ID, AUTH_DISCORD_SECRET

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ù–µ—Ç –ª–∏ —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ, –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ API –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã –≤ entity —Ñ–∞–π–ª–∞—Ö
3. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (client.ts –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞, server.ts –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)

### –†–µ—à–µ–Ω–∏–µ

1. –ù–∞–π—Ç–∏ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–º–µ—à–∏–≤–∞—é—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
2. –†–∞–∑–¥–µ–ª–∏—Ç—å –∏—Ö –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (client.ts –∏ server.ts)
3. –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ index.ts —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–∏–ø—ã –∏ –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã

---

**–î–∞—Ç–∞ –∑–∞–ø–∏—Å–∏:** 2024-01-13  
**–ü—Ä–æ–µ–∫—Ç:** Meal Planner  
**–°—Ç–∞—Ç—É—Å:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ